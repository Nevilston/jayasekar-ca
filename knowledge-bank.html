<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Knowledge Bank | K. Jayasekar &amp; Co</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    :root {
      --gold: #cfb20a;
      --gold-dark: #b39b09;
      --navy: #283447;
      --line: #d8d8d8;
      --bg: #f4f5f8;
      --card: #ffffff;
      --text: #1d283b;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      width: min(1200px, 94%);
      margin: 0 auto;
    }

    .top-strip {
      background: #fff;
      border-bottom: 1px solid var(--line);
      padding: 14px 0;
    }

    .top-strip .inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand img {
      width: 56px;
      height: 56px;
      object-fit: contain;
    }

    .brand h1 {
      margin: 0;
      font-size: 22px;
      color: var(--navy);
    }

    .brand p {
      margin: 0;
      font-size: 13px;
      color: #5f6877;
    }

    .action-links {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      border: 1px solid var(--gold);
      background: var(--gold);
      color: #fff;
      padding: 9px 14px;
      font-size: 14px;
      cursor: pointer;
    }

    .btn.alt {
      background: #fff;
      color: var(--navy);
    }

    .kb-nav {
      background: var(--gold);
      border-top: 1px solid rgba(255, 255, 255, 0.4);
      border-bottom: 3px solid #dfc846;
      position: sticky;
      top: 0;
      z-index: 20;
    }

    .kb-nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-wrap: wrap;
    }

    .kb-nav li {
      flex: 1 1 230px;
      border-right: 1px solid rgba(255, 255, 255, 0.35);
    }

    .kb-nav li:last-child {
      border-right: 0;
    }

    .kb-nav a {
      display: block;
      text-align: center;
      color: #fff;
      padding: 13px 10px;
      font-weight: 600;
      letter-spacing: 0.2px;
    }

    .kb-nav a:hover {
      background: var(--gold-dark);
    }

    .page-intro {
      margin: 18px auto 6px;
      font-size: 14px;
      color: #465163;
    }

    .module {
      background: var(--card);
      border: 1px solid var(--line);
      margin: 14px 0;
      padding: 16px;
      scroll-margin-top: 78px;
    }

    .module h2 {
      margin: 0 0 14px;
      font-size: 23px;
      color: var(--navy);
    }

    .search-grid {
      display: grid;
      grid-template-columns: 1fr 1fr auto auto;
      gap: 10px;
      align-items: end;
      margin-bottom: 14px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    label {
      font-size: 13px;
      color: #4c5564;
      font-weight: 600;
    }

    input,
    select {
      width: 100%;
      border: 1px solid #aeb8c7;
      padding: 8px 10px;
      font-size: 14px;
    }

    .actions {
      display: flex;
      gap: 8px;
    }

    .actions .btn {
      padding: 8px 14px;
      font-size: 14px;
    }

    .table-wrap {
      border: 1px solid #aeb8c7;
      overflow-x: auto;
      background: #fff;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 600px;
    }

    thead th {
      background: #f1f4f9;
      border-bottom: 1px solid #c6d0df;
      text-align: left;
      font-size: 14px;
      color: #27354b;
      padding: 9px 10px;
    }

    tbody td {
      border-top: 1px solid #d7deea;
      padding: 9px 10px;
      font-size: 14px;
      color: #27354b;
      vertical-align: top;
    }

    .result-line {
      margin-top: 10px;
      font-size: 14px;
      color: #4e596d;
      font-weight: 600;
    }

    .tax-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr auto;
      gap: 10px;
      align-items: end;
      margin-bottom: 12px;
    }

    .tax-output {
      border: 1px solid #cbd4e0;
      background: #f8fafc;
      padding: 12px;
      display: grid;
      grid-template-columns: repeat(3, minmax(180px, 1fr));
      gap: 10px;
    }

    .tax-output p {
      margin: 0;
      font-size: 13px;
      color: #5a6474;
    }

    .tax-output strong {
      display: block;
      margin-top: 4px;
      font-size: 18px;
      color: var(--navy);
    }

    .empty {
      color: #7a8598;
      font-style: italic;
    }

    @media (max-width: 900px) {
      .search-grid,
      .tax-grid {
        grid-template-columns: 1fr;
      }

      .tax-output {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="top-strip">
    <div class="container inner">
      <div class="brand">
        <img src="Assets/ca.png" alt="K. Jayasekar &amp; Co logo">
        <div>
          <h1>K. Jayasekar &amp; Co</h1>
          <p>Knowledge Bank</p>
        </div>
      </div>
      <div class="action-links">
        <a class="btn alt" href="index.html"><i class="fa fa-home"></i> Home</a>
        <button id="go-back" class="btn alt" type="button"><i class="fa fa-arrow-left"></i> Back</button>
      </div>
    </div>
  </header>

  <nav class="kb-nav">
    <div class="container">
      <ul>
        <li><a href="#tax-calculator">Tax Calculator</a></li>
        <li><a href="#acts">ACTS</a></li>
        <li><a href="#income-tax-2025">Income Tax 2025</a></li>
        <li><a href="#gst-laws">GST Laws</a></li>
      </ul>
    </div>
  </nav>

  <main class="container">
    <p class="page-intro">Internal Knowledge Bank page in this application. Use search by section/rule number and content.</p>

    <section id="tax-calculator" class="module">
      <h2>Tax Calculator</h2>
      <div class="tax-grid">
        <div class="field">
          <label for="tax-year">Assessment Year</label>
          <select id="tax-year">
            <option value="2025-26" selected>2025-26</option>
          </select>
        </div>
        <div class="field">
          <label for="tax-regime">Regime</label>
          <select id="tax-regime">
            <option value="new">New Regime</option>
            <option value="old">Old Regime</option>
          </select>
        </div>
        <div class="field">
          <label for="tax-income">Taxable Income (INR)</label>
          <input id="tax-income" type="number" min="0" step="1000" placeholder="Enter taxable income">
        </div>
        <div class="actions">
          <button id="tax-calc-btn" class="btn" type="button">Calculate</button>
        </div>
      </div>
      <div class="tax-output">
        <div>
          <p>Tax Before Cess</p>
          <strong id="tax-before-cess">INR 0</strong>
        </div>
        <div>
          <p>Health &amp; Education Cess (4%)</p>
          <strong id="tax-cess">INR 0</strong>
        </div>
        <div>
          <p>Total Tax Liability</p>
          <strong id="tax-total">INR 0</strong>
        </div>
      </div>
      <p class="result-line">Note: Calculation is indicative for quick internal reference.</p>
    </section>

    <section id="acts" class="module">
      <h2>ACTS</h2>
      <div class="search-grid">
        <div class="field">
          <label for="acts-section">Section / Rule Number</label>
          <input id="acts-section" type="text" placeholder="Ex: A-1 or Section 139">
        </div>
        <div class="field">
          <label for="acts-content">Content</label>
          <input id="acts-content" type="text" placeholder="Ex: registration">
        </div>
        <div class="actions">
          <button id="acts-search" class="btn" type="button">Search</button>
        </div>
        <div class="actions">
          <button id="acts-reset" class="btn alt" type="button">Reset</button>
        </div>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th style="width: 220px;">Section / Rule</th>
              <th>Content</th>
            </tr>
          </thead>
          <tbody id="acts-rows"></tbody>
        </table>
      </div>
      <p id="acts-count" class="result-line"></p>
    </section>

    <section id="income-tax-2025" class="module">
      <h2>Income Tax 2025</h2>
      <div class="search-grid">
        <div class="field">
          <label for="income-section">Section / Rule Number</label>
          <input id="income-section" type="text" placeholder="Ex: 115BAC">
        </div>
        <div class="field">
          <label for="income-content">Content</label>
          <input id="income-content" type="text" placeholder="Ex: rebate">
        </div>
        <div class="actions">
          <button id="income-search" class="btn" type="button">Search</button>
        </div>
        <div class="actions">
          <button id="income-reset" class="btn alt" type="button">Reset</button>
        </div>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th style="width: 220px;">Section / Rule</th>
              <th>Content</th>
            </tr>
          </thead>
          <tbody id="income-rows"></tbody>
        </table>
      </div>
      <p id="income-count" class="result-line"></p>
    </section>

    <section id="gst-laws" class="module">
      <h2>GST Laws</h2>
      <div class="search-grid">
        <div class="field">
          <label for="gst-section">Section / Rule Number</label>
          <input id="gst-section" type="text" placeholder="Ex: Section 16">
        </div>
        <div class="field">
          <label for="gst-content">Content</label>
          <input id="gst-content" type="text" placeholder="Ex: input tax credit">
        </div>
        <div class="actions">
          <button id="gst-search" class="btn" type="button">Search</button>
        </div>
        <div class="actions">
          <button id="gst-reset" class="btn alt" type="button">Reset</button>
        </div>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th style="width: 220px;">Section / Rule</th>
              <th>Content</th>
            </tr>
          </thead>
          <tbody id="gst-rows"></tbody>
        </table>
      </div>
      <p id="gst-count" class="result-line"></p>
    </section>
  </main>

  <script>
    const actsData = [
      { section: "A-1", content: "Short title, application and commencement." },
      { section: "A-2", content: "Definitions and interpretation for key statutory terms." },
      { section: "A-3", content: "Registration, records and maintenance obligations." },
      { section: "A-4", content: "Compliance timelines, penalties and compounding provisions." },
      { section: "A-5", content: "Authorities, powers of inspection and appellate process." }
    ];

    const incomeTax2025Data = [
      { section: "115BAC", content: "Default tax regime slab rates and conditions for AY 2025-26." },
      { section: "87A", content: "Rebate eligibility subject to taxable income thresholds." },
      { section: "139(1)", content: "Due date rules for filing return of income." },
      { section: "194C", content: "TDS on payments to contractors and subcontractors." },
      { section: "80C", content: "Deductions on qualifying investments up to prescribed limits." },
      { section: "234F", content: "Fee for delayed filing of return of income." }
    ];

    const gstLawsData = [
      { section: "Section 7", content: "Scope of supply and taxable event under GST." },
      { section: "Section 9", content: "Levy and collection of central tax." },
      { section: "Section 16", content: "Eligibility and conditions for input tax credit." },
      { section: "Section 31", content: "Tax invoice and related documentation requirements." },
      { section: "Rule 36", content: "Documentary conditions for availing input tax credit." },
      { section: "Rule 59", content: "Outward supply details and GSTR-1 filing framework." }
    ];

    function formatInr(value) {
      return "INR " + Math.round(value).toLocaleString("en-IN");
    }

    function calculateTaxBySlab(income, slabs) {
      let tax = 0;
      for (const slab of slabs) {
        if (income <= slab.min) {
          continue;
        }
        const taxableInSlab = Math.min(income, slab.max) - slab.min;
        tax += taxableInSlab * slab.rate;
      }
      return Math.max(tax, 0);
    }

    function calculateTax() {
      const income = Number(document.getElementById("tax-income").value) || 0;
      const regime = document.getElementById("tax-regime").value;

      const oldRegime = [
        { min: 0, max: 250000, rate: 0 },
        { min: 250000, max: 500000, rate: 0.05 },
        { min: 500000, max: 1000000, rate: 0.2 },
        { min: 1000000, max: Number.MAX_SAFE_INTEGER, rate: 0.3 }
      ];

      const newRegime = [
        { min: 0, max: 300000, rate: 0 },
        { min: 300000, max: 600000, rate: 0.05 },
        { min: 600000, max: 900000, rate: 0.1 },
        { min: 900000, max: 1200000, rate: 0.15 },
        { min: 1200000, max: 1500000, rate: 0.2 },
        { min: 1500000, max: Number.MAX_SAFE_INTEGER, rate: 0.3 }
      ];

      const slabs = regime === "old" ? oldRegime : newRegime;
      const taxBeforeCess = calculateTaxBySlab(income, slabs);
      const cess = taxBeforeCess * 0.04;
      const total = taxBeforeCess + cess;

      document.getElementById("tax-before-cess").textContent = formatInr(taxBeforeCess);
      document.getElementById("tax-cess").textContent = formatInr(cess);
      document.getElementById("tax-total").textContent = formatInr(total);
    }

    function renderRows(tableBodyId, rows) {
      const tbody = document.getElementById(tableBodyId);
      if (!tbody) return;
      if (!rows.length) {
        tbody.innerHTML = "<tr><td colspan=\"2\" class=\"empty\">No records found.</td></tr>";
        return;
      }
      tbody.innerHTML = rows.map((row) => (
        "<tr><td>" + row.section + "</td><td>" + row.content + "</td></tr>"
      )).join("");
    }

    function filterRows(data, sectionInputId, contentInputId) {
      const sectionQuery = document.getElementById(sectionInputId).value.trim().toLowerCase();
      const contentQuery = document.getElementById(contentInputId).value.trim().toLowerCase();
      return data.filter((row) => {
        const sectionMatch = !sectionQuery || row.section.toLowerCase().includes(sectionQuery);
        const contentMatch = !contentQuery || row.content.toLowerCase().includes(contentQuery);
        return sectionMatch && contentMatch;
      });
    }

    function bindTableSearch(config) {
      const {
        data,
        tableBodyId,
        sectionInputId,
        contentInputId,
        searchBtnId,
        resetBtnId,
        countId
      } = config;

      const update = (rows) => {
        renderRows(tableBodyId, rows);
        document.getElementById(countId).textContent = rows.length + " record(s) found.";
      };

      update(data);

      document.getElementById(searchBtnId).addEventListener("click", () => {
        const rows = filterRows(data, sectionInputId, contentInputId);
        update(rows);
      });

      document.getElementById(resetBtnId).addEventListener("click", () => {
        document.getElementById(sectionInputId).value = "";
        document.getElementById(contentInputId).value = "";
        update(data);
      });
    }

    document.getElementById("tax-calc-btn").addEventListener("click", calculateTax);
    document.getElementById("go-back").addEventListener("click", () => window.history.back());

    bindTableSearch({
      data: actsData,
      tableBodyId: "acts-rows",
      sectionInputId: "acts-section",
      contentInputId: "acts-content",
      searchBtnId: "acts-search",
      resetBtnId: "acts-reset",
      countId: "acts-count"
    });

    bindTableSearch({
      data: incomeTax2025Data,
      tableBodyId: "income-rows",
      sectionInputId: "income-section",
      contentInputId: "income-content",
      searchBtnId: "income-search",
      resetBtnId: "income-reset",
      countId: "income-count"
    });

    bindTableSearch({
      data: gstLawsData,
      tableBodyId: "gst-rows",
      sectionInputId: "gst-section",
      contentInputId: "gst-content",
      searchBtnId: "gst-search",
      resetBtnId: "gst-reset",
      countId: "gst-count"
    });

    calculateTax();
  </script>
</body>
</html>
